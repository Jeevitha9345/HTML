<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <style>
        .button{
            width: 50px;
            background-color: antiquewhite;
            margin: 10px;
            height:30px;
            border-color: antiquewhite;
        }
    </style>
</head>
<body>
    <center>
    <h3>Hello! Here you can do simple calculation!!</h3>
    <input type="text" id="display" disabled style="width: 300px; height: 50px; font-size: 20px; background-color:antiquewhite; text-align: right;">
    <br>

    <button class="button"onclick="clearDisplay('')">AC</button>
    <button class="button"onclick="deleteLast()">C</button>
    <button class="button"onclick="append('%')">%</button>
    <button class="button"onclick="append('/')"> / </button>
    <br>
    <button class="button"onclick="append('1')"> 1 </button>
    <button class="button"onclick="append('2')"> 2 </button>
    <button class="button"onclick="append('3')"> 3 </button>
    <button class="button"onclick="append('*')"> * </button>

    <br>
    <button class="button"onclick="append('4')"> 4 </button>
    <button class="button"onclick="append('5')"> 5 </button>
    <button class="button"onclick="append('6')"> 6 </button>
    <button class="button"onclick="append('-')"> - </button>
    <br>
    <button class="button"onclick="append('7')"> 7 </button>
    <button class="button"onclick="append('8')"> 8 </button>
    <button class="button"onclick="append('9')"> 9 </button>
    <button class="button"onclick="append('+')"> + </button>
    <br>
    <button class="button"onclick="append('0')"> 0 </button>
    <button class="button"onclick="append('00')"> 00 </button>
    <button class="button"onclick="append('.')"> . </button>
    <button class="button"onclick="calculate()"> = </button>
    
    </center>

    <script>
        let calculated = false;

function append(val) {
    const display = document.getElementById("display");
    if (calculated) {
        // Clear previous result on new input after calculation
        display.value = "";
        calculated = false;
    }
    display.value += val;
}

function clearDisplay() {
    document.getElementById("display").value = "";
    calculated = false;
}

function deleteLast() {
    const display = document.getElementById("display");
    if (calculated) {
        // If calculated, deleting should clear display fully
        display.value = "";
        calculated = false;
    } else {
        display.value = display.value.slice(0, -1);
    }
}

function calculate() {
    try {
        const display = document.getElementById("display");
        display.value = eval(display.value);
        calculated = true;
    } catch {
        document.getElementById("display").value = "Syntax Error";
        calculated = true;
    }
}

document.addEventListener("keydown", function (event) {
    const allowedKeys = "0123456789+-*/%.";
    const display = document.getElementById("display");

    if (allowedKeys.includes(event.key)) {
        if (calculated) {
            display.value = "";
            calculated = false;
        }
        display.value += event.key;
    } else if (event.key === "Enter") {
        calculate();
    } else if (event.key === "Backspace") {
        if (calculated) {
            display.value = "";
            calculated = false;
        } else {
            display.value = display.value.slice(0, -1);
        }
    } else if (event.key === "Escape") {
        clearDisplay();
    }

    if (
        allowedKeys.includes(event.key) ||
        ["Enter", "Backspace", "Escape"].includes(event.key)
    ) {
        event.preventDefault();
    }
});
    </script>
</body>
</html>